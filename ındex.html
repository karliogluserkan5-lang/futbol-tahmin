<!DOCTYPE html>
<html>
<head>
    <title>Futbol Tahmin</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f4f4; }
        .mac { background: white; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .takim { font-weight: bold; font-size: 1.2em; }
        .skor { font-size: 1.5em; color: green; margin-left: 15px; }
        .durum { font-style: italic; color: #555; margin-top: 5px; }
        h1 { color: #333; }
        #yukleniyor { text-align: center; color: #777; }
    </style>
</head>
<body>
    <h1>âš½ BugÃ¼nÃ¼n MaÃ§larÄ± (API CanlÄ±)</h1>
    <div id="mac-listesi">ğŸ“¡ Veriler yÃ¼kleniyor...</div>

    <script>
        async function maclariGetir() {
            const apiAnahtari = 'd5aeb2db9f387b44e0308ecf54d36c52'; // SENÄ°N API ANAHTARIN
            const apiUrlBase = 'https://v3.football.api-sports.io';

            // BugÃ¼nÃ¼n tarihini al (YYYY-MM-DD formatÄ±nda)
            const bugun = new Date();
            const yil = bugun.getFullYear();
            const ay = String(bugun.getMonth() + 1).padStart(2, '0');
            const gun = String(bugun.getDate()).padStart(2, '0');
            const tarih = `${yil}-${ay}-${gun}`;

            const macListesiDiv = document.getElementById('mac-listesi');

            try {
                // API'ye isteÄŸi gÃ¶nder
                const response = await fetch(`${apiUrlBase}/fixtures?date=${tarih}`, {
                    method: 'GET',
                    headers: {
                        'x-apisports-key': apiAnahtari,
                        'x-apisports-host': 'v3.football.api-sports.io'
                    }
                });

                if (!response.ok) {
                    throw new Error(`API HatasÄ±: ${response.status}`);
                }

                const veri = await response.json();

                // Gelen veriyi kontrol et
                if (veri.results === 0) {
                    macListesiDiv.innerHTML = 'ğŸ BugÃ¼n maÃ§ yok.';
                    return;
                }

                // MaÃ§larÄ± listele
                let htmlIcerik = '';
                for (let mac of veri.response) {
                    const evSahibi = mac.teams.home.name;
                    const deplasman = mac.teams.away.name;
                    const skorEv = mac.goals.home ?? '?';
                    const skorDep = mac.goals.away ?? '?';
                    const durum = mac.fixture.status.long; // MaÃ§ durumu (Ã¶rn: TamamlandÄ±, Ä°kinci YarÄ±)

                    htmlIcerik += `
                        <div class="mac">
                            <div class="takim">${evSahibi} - ${deplasman}</div>
                            <div class="skor">${skorEv} : ${skorDep}</div>
                            <div class="durum">${durum}</div>
                        </div>
                    `;
                }
                macListesiDiv.innerHTML = htmlIcerik;

            } catch (error) {
                console.error('Veri Ã§ekme hatasÄ±:', error);
                macListesiDiv.innerHTML = `âš ï¸ Veriler yÃ¼klenirken hata oluÅŸtu. (<small>${error.message}</small>)`;
            }
        }

        // Sayfa yÃ¼klendiÄŸinde fonksiyonu Ã§alÄ±ÅŸtÄ±r
        maclariGetir();
    </script>
    <p><small>Not: API Ã¼cretsiz planda gÃ¼nlÃ¼k istek sÄ±nÄ±rlÄ±dÄ±r. Veriler canlÄ±dÄ±r.</small></p>
</body>
</html>
